<!DOCTYPE html>
<html>

<head>
  <title>Simple AR - A Web based AR for A-Frame</title>
  <script src="https://aframe.io/releases/1.4.2/aframe.min.js"></script>
  <script src="https://unpkg.com/aframe-event-set-component/dist/aframe-event-set-component.min.js"></script>
</head>

<body>
  <script src="https://cdn.jsdelivr.net/gh/akbartus/Simple-AR/dist/0.1.2/simple-ar.min.js"
    onload="onWasmLoaded();"></script>
  <!-- <a-scene>
      <a-entity simple-ar="src: target2.jpg; minCutOffValue: 10; betaValue:0.1;">
        <a-plane
          position="0 0 0"
          rotation="0 0 0"
          width="1"
          height="1"
          material="src: https://upload.wikimedia.org/wikipedia/en/a/a9/Example.jpg"
        ></a-plane>
      </a-entity>
      <a-camera position="0 0 0"></a-camera>
    </a-scene> -->



  <a-scene>
    <a-entity id="back-cover" simple-ar="src: target.jpg; ; minCutOffValue: 100; betaValue:0.1;" visible="false">
      <!-- Back cover content -->
      <a-text id="back-cover-text" value="Book Information" position="-1 1 -3"></a-text>
      <!-- AR button -->
      <a-box id="ar-button" position="0 0.5 -1" color="blue"
        event-set__click="scale: 1.2 1.2 1.2; _target: #back-cover-text; _delay: 0; text.value: Review Text Here">
      </a-box>

    </a-entity>


    <!-- <a-entity id="front-cover-info" simple-ar="src: target.jpg; minCutOffValue: 100; betaValue:0.1;">

      <a-plane position="0 0 0" rotation="0 0 0" width="0.01" height=".01" material="src: logo.jpg">
        <a-text value="Harry Potter" position="0 1 -3" align="center" color="#FFFFFF" width="6"></a-text>
        <a-text value="Order of the Phoenix" position="0 1 -4" align="center" color="#FFFFFF" width="5"></a-text>
        <a-text value="J.K. Rowling" position="0 1 -5" align="center" color="#FFFFFF" width="6"></a-text>
      </a-plane>

      <a-entity gltf-model="elders_wand/scene.gltf" position="-1 0 0" 
        scale="1.2 1.2 1.2" 
        rotation="0 0 90">
      </a-entity>

      <a-entity gltf-model="phoenix.glb" position=".5 0 0" 
        scale="0.05 0.05 0.05" 
        rotation="0 0 0">
      </a-entity> -->



    <!-- </a-entity> -->

    <a-camera position="0 0 0"></a-camera>


  </a-scene>



  <script>
    window.addEventListener('load', () => {
      const img = new Image();
      img.onload = () => {
        const aspectRatio = img.width / img.height;
        const plane = document.querySelector('a-plane');
        plane.setAttribute('width', aspectRatio);
        plane.setAttribute('height', 1); // Assuming height is 1 unit
      };
      img.src = 'stones.jpg'; // Ensure this path is correct
    });
    // Toggle between book information and review
    let showingReview = false;
    document.querySelector('#ar-button').addEventListener('click', function () {
      const textEl = document.querySelector('#back-cover-text');
      if (showingReview) {
        textEl.setAttribute('value', 'Book Information');
      } else {
        textEl.setAttribute('value', 'Book Review');
      }
      showingReview = !showingReview;
    });

    // Show and hide entities based on marker detection
    document.querySelector('#back-cover').addEventListener('markerFound', function () {
      this.setAttribute('visible', true);
    });
    document.querySelector('#back-cover').addEventListener('markerLost', function () {
      this.setAttribute('visible', false);
    });

    // Do the same for the front cover if needed
    // ...

  </script>

</body>

</body>

</html>